---
import { storyblokEditable, renderRichText } from '@storyblok/astro';
import SinglePost from '~/components/blog/SinglePost.astro';
import ToBlogLink from '~/components/blog/ToBlogLink.astro';
import Layout from '~/layouts/PageLayout.astro';

// Create type for blok
const { blok } = Astro.props;
const content = renderRichText(blok.content);
---

<Layout {...storyblokEditable(blok)}>
  <SinglePost
    post={{
      content,
      id: blok.id,
      image: blok.image.filename,
      slug: blok.slug,
      publishDate: blok.published_at,
      Content: '',
      title: blok.title,
      description: blok.description,
      excerpt: blok.excerpt,
      tags: blok.tags,
    }}
    url={blok.permalink}
  />
  {blok.publishDate}
  <ToBlogLink />
</Layout>
